{% extends "base.html" %}
{% block content %}

<div class="relative w-full h-[42rem] overflow-hidden mt-16">
    <div id="carousel" class="absolute w-full flex">
        <!-- Slide 1 -->
        <div class="w-full h-[42rem] flex items-center justify-start absolute slide fade-in-out" style="background-image: url('https://buyventure.xyz/static/customer/img/slider/home1-slider3.png'); background-size: cover; background-position: center;">
            <div class="text-start slide1-div px-20">
                <h1 class="text-3xl font-extrabold text-white lg:text-7xl slide-3-h1">Innovative Electronics<br/> Modern Living</h1>
                <p class="text-2xl text-white font-normal mt-10">Upgrade Your Lifestyle With Cutting-Edge Technology Sleek Design<br/>Shop Today and Enjoy Incredible Discounts</p>
                <div class="mt-10">
                    <button class="w-full px-16 py-5 mt-4 text-xl font-bold capitalize transition-colors duration-300 transform bg-white text-black rounded-md lg:w-auto hover:bg-blue-500 focus:outline-none focus:bg-blue-500">Start Buying</button>
                </div>
            </div>
        </div>
        <!-- Slide 2 -->
        <div class="w-full h-[40rem] flex items-center justify-start absolute slide fade-in-out" style="background-image: url('https://buyventure.xyz/static/customer/img/slider/home1-slider.png'); background-size: cover; background-position: center;">
            <div class="text-start slide1-div px-20">
                <h1 class="text-3xl font-extrabold text-white lg:text-7xl slide-3-h1">Innovative Electronics<br/> Modern Living</h1>
                <p class="text-2xl text-white font-normal mt-10">Upgrade Your Lifestyle With Cutting-Edge Technology Sleek Design<br/>Shop Today and Enjoy Incredible Discounts</p>
                <div class="mt-10">
                    <button class="w-full px-16 py-5 mt-4 text-xl font-bold capitalize transition-colors duration-300 transform bg-white text-black rounded-md lg:w-auto hover:bg-blue-500 focus:outline-none focus:bg-blue-500">Start Buying</button>
                </div>
            </div>
        </div>
        <!-- Slide 3 -->
        <div class="w-full h-[40rem] flex items-center justify-end absolute slide fade-in-out" style="background-image: url('https://buyventure.xyz/static/customer/img/slider/home1-slider2.png'); background-size: cover; background-position: center;">
            <div class="text-start slide1-div px-20">
                <h1 class="text-3xl font-extrabold text-white lg:text-7xl slide-3-h1">Innovative Electronics<br/> Modern Living</h1>
                <p class="text-2xl text-white font-normal mt-10">Upgrade Your Lifestyle With Cutting-Edge Technology Sleek Design<br/>Shop Today and Enjoy Incredible Discounts</p>
                <div class="mt-10">
                    <button class="w-full px-16 py-5 mt-4 text-xl font-bold capitalize transition-colors duration-300 transform bg-white text-black rounded-md lg:w-auto hover:bg-blue-500 focus:outline-none focus:bg-blue-500">Start Buying</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Navigation Buttons -->
    <button id="prev" class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none">
        <span class="inline-flex items-center justify-center w-14 h-14 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
            <svg class="w-6 h-6 text-white dark:text-gray-800 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
            </svg>
            <span class="sr-only">Previous</span>
        </span>
    </button>
    <button id="next" class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none">
        <span class="inline-flex items-center justify-center w-14 h-14 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
            <svg class="w-6 h-6 text-white dark:text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
            </svg>
            <span class="sr-only">Next</span>
        </span>
    </button>
</div>

<div>
    <h1 class='text-center font-bold text-5xl mt-32'>Most Popular Item</h1>
    <div class="relative flex flex-col justify-center overflow-hidden py-6 sm:py-12">
        <div class="mx-auto max-w-screen-xl px-4 w-full">
          <div class="grid w-full grid-cols-2 sm:grid-cols-2 xl:grid-cols-4 gap-6">
            {% for product in links %}
            <a href="{% url 'item-detail' product.id %}">
                <div class="relative flex flex-col shadow-md rounded-xl">
                    <div class=" overflow-hidden relative">
                      <img class="w-full h-56" src="{{ product.mainimage.url }}" alt="">
                  </div>
                  <div class="bg-white py-4 px-3 text-xl sm:text-sm ">
                    <h3 class="font-bold text-sm md:text-xl mb-2">{{product.title}}</h3>
                    <h3 class="font-bold text-sm md:text-xl mb-2 text-center">{{product.price}}</h3>
                    <div class="text-center group mt-10">
                      <span class="bg-black text-md px-6 py-2 font-medium text-white md:opacity-0 md:transition-opacity md:duration-300 md:group-hover:opacity-100">Buy Now</span>
                  </div> 
                  <div class='mt-3'></div>
                  </div>
                </div>
            </a>
            
            {% endfor %}
          </div>
        </div>
      </div>
    <div class='text-center '>
        <a class=' bg-black text-2xl px-10 py-4 font-medium text-white rounded-2xl' href="{% url 'store' %}">More Product</a>
        
    </div>

    <div class='flex justify-center mt-10'>
        <img class='w-3/5 h-full' src="https://i.postimg.cc/MGQkNVdM/Screenshot-2024-10-25-151811.png" alt="">
    </div>
    
</div>

<div id="scrollButton" class="flex items-end justify-end fixed bottom-0 right-0 mb-10 mr-4 z-10 opacity-0 transition-opacity duration-300">
    <div>
        <svg xmlns="http://www.w3.org/2000/svg"  class='w-11 h-11 rounded-full' fill="currentColor" class="bi bi-arrow-up-circle-fill" viewBox="0 0 16 16"> <path d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"/> </svg>
    </div>
</div>

<script>
    const slides = document.querySelectorAll('.slide');
    let currentIndex = 0;

    function showSlide(index) {
        slides.forEach((slide, i) => {
            slide.style.opacity = i === index ? '1' : '0';
            slide.style.zIndex = i === index ? '10' : '0';
            
            // Show the appropriate heading or div
            if (i === index) {
                const currentElement = slide.querySelector('div, .slide-3-div');
                if (currentElement) {
                    currentElement.classList.add('active'); // Activate the current element
                }
            } else {
                const currentElement = slide.querySelector('div, .slide-3-div');
                if (currentElement) {
                    currentElement.classList.remove('active'); // Deactivate other elements
                }
            }
        });
    }

    function nextSlide() {
        currentIndex = (currentIndex + 1) % slides.length;
        showSlide(currentIndex);
    }

    function prevSlide() {
        currentIndex = (currentIndex - 1 + slides.length) % slides.length;
        showSlide(currentIndex);
    }

    document.getElementById('next').addEventListener('click', nextSlide);
    document.getElementById('prev').addEventListener('click', prevSlide);

    setInterval(nextSlide, 5000); // Automatic slide change every 5 seconds

    // Initial slide
    showSlide(currentIndex);
</script>
<style>
    /* Ensures smooth transition */
    #scrollButton {
        transition: transform 0.5s ease, opacity 0.5s ease;
    }

    /* Initial hidden position and opacity */
    .translate-y-10 {
        transform: translateY(2.5rem);
    }

    /* Fully visible position and opacity */
    .translate-y-0 {
        transform: translateY(0);
    }
</style>
<style>
    .slide {
        transition: opacity 1s linear;
        opacity: 0;
        z-index: 0;
    }

    .fade-in-out {
        transition: opacity 2s ease;
    }

    /* Bottom to Target Position animation for H1 and div */
    @keyframes slide-animation {
        0% {
            transform: translateY(100%);
            opacity: 0;
        }
        100% {
            transform: translateY(0);
            opacity: 1;
        }
    }

    /* Active class triggers heading and div animation */
    .active {
        animation: slide-animation 1.5s ease forwards;
    }

    .slide-1-div, .slide-2-div, .slide-3-div {
        opacity: 0; /* Hide headings and div initially */
    }

    .slide-1-div.active, .slide-2-div.active, .slide-3-div.active {
        opacity: 1; /* Show headings and div when active */
    }

    /* Style for Next and Previous buttons */
    
</style>
<style>
    /* Add custom styles for the scroll to top button */
    #scrollToTop {
        display: none; /* Initially hidden */
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 100;
    }

    #scrollToTop:hover {
        background-color: rgba(0, 0, 0, 1);
    }
</style>
<script>
    const scrollButton = document.getElementById('scrollButton');
    const triggerDistance = 100;  // Adjust this to change the distance from the bottom

    window.addEventListener('scroll', () => {
        const scrollPosition = window.scrollY + window.innerHeight;
        const footerPosition = document.body.offsetHeight - triggerDistance;

        // Show button with slide-up effect near footer, hide with slide-down otherwise
        if (scrollPosition >= footerPosition) {
            scrollButton.classList.remove('translate-y-10', 'opacity-0');
            scrollButton.classList.add('translate-y-0', 'opacity-100');
        } else {
            scrollButton.classList.remove('translate-y-0', 'opacity-100');
            scrollButton.classList.add('translate-y-10', 'opacity-0');
        }
    });
</script>
  </div>
  


{% endblock %}
